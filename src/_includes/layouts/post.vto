{{ layout  "layouts/base.vto" }}

<article class="prose">
    <header>
        <h1>{{ title }}</h1>
    </header>

    {{ set toc = content |> toc }}
    {{ if toc.length > 3 }}
    <details open="true">
        <summary>Table of contents</summary>
        <nav class="toc">
            {{ toc.list }}
        </nav>
    </details>
    {{ /if }}

    {{ content }}

</article>

{{ /layout }}
